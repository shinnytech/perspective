var De=Object.create;var P=Object.defineProperty;var et=Object.getOwnPropertyDescriptor;var tt=Object.getOwnPropertyNames;var rt=Object.getPrototypeOf,nt=Object.prototype.hasOwnProperty;var be=t=>P(t,"__esModule",{value:!0});var Se=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),it=(t,e)=>{be(t);for(var r in e)P(t,r,{get:e[r],enumerable:!0})},st=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of tt(e))!nt.call(t,n)&&n!=="default"&&P(t,n,{get:()=>e[n],enumerable:!(r=et(e,n))||r.enumerable});return t},Te=t=>st(be(P(t!=null?De(rt(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ve=Se((Kt,Ye)=>{Ye.exports.default={types:{float:{filter_operator:"==",aggregate:"sum",format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}},string:{filter_operator:"==",aggregate:"count"},integer:{filter_operator:"==",aggregate:"sum",format:{}},boolean:{filter_operator:"==",aggregate:"count"},datetime:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},null_value:-1},date:{filter_operator:"==",aggregate:"count",format:{week:"numeric",year:"numeric",month:"numeric",day:"numeric"},null_value:-1}}}});var re=Se((Xt,x)=>{var Ce=Ve().default;x.exports.get_types=function(){return Object.keys(x.exports.get_config().types)};x.exports.get_type_config=function(t){let e={};if(x.exports.get_config().types[t]&&Object.assign(e,x.exports.get_config().types[t]),e.type){let r=x.exports.get_type_config(e.type);return Object.assign(r,e),r}else return e};function te(t){return t&&typeof t=="object"&&!Array.isArray(t)}function G(t,...e){if(!e.length)return t;let r=e.shift();if(te(t)&&te(r))for(let n in r)te(r[n])?(t[n]||Object.assign(t,{[n]:{}}),G(t[n],r[n])):Object.assign(t,{[n]:r[n]});return G(t,...e)}globalThis.__PERSPECTIVE_CONFIG__=void 0;x.exports.override_config=function(t){globalThis.__PERSPECTIVE_CONFIG__&&console.warn("Config already initialized!"),globalThis.__PERSPECTIVE_CONFIG__=G(Ce,t)};x.exports.get_config=function(){return globalThis.__PERSPECTIVE_CONFIG__||(globalThis.__PERSPECTIVE_CONFIG__=G(Ce,globalThis.__TEMPLATE_CONFIG__||{})),globalThis.__PERSPECTIVE_CONFIG__}});var ee={};it(ee,{COLUMN_SEPARATOR_STRING:()=>dt,CONFIG_ALIASES:()=>at,CONFIG_VALID_KEYS:()=>lt,DATA_TYPES:()=>ot,FILTER_OPERATORS:()=>a,SORT_ORDERS:()=>ft,SORT_ORDER_IDS:()=>ct,TYPE_AGGREGATES:()=>pt,TYPE_FILTERS:()=>vt});var ot={integer:"integer",float:"float",string:"string",boolean:"boolean",date:"date",datetime:"datetime",object:"object"},at={row_pivot:"group_by","row-pivot":"group_by","row-pivots":"group_by",col_pivot:"split_by",col_pivots:"split_by",column_pivot:"split_by","column-pivot":"split_by","column-pivots":"split_by",filters:"filter",sorts:"sort"},lt=["viewport","group_by","split_by","aggregates","columns","filter","sort","computed_columns","expressions","group_by_depth","split_by_depth","filter_op"],Ne=["any","avg","abs sum","count","distinct count","dominant","first by index","last by index","last minus first","last","high","join","low","high minus low","mean","median","pct sum parent","pct sum grand total","stddev","sum","sum abs","sum not null","unique","var"],D=["any","count","distinct count","distinct leaf","dominant","first by index","join","last by index","last","unique"],ut=["any","count","distinct count","distinct leaf","dominant","first by index","last by index","last","unique"],ft=["none","asc","desc","col asc","col desc","asc abs","desc abs","col asc abs","col desc abs"],ct=[2,0,1,0,1,3,4,3,4],pt={string:D,float:Ne,integer:Ne,boolean:ut,datetime:D,date:D},a={lessThan:"<",greaterThan:">",equals:"==",lessThanOrEquals:"<=",greaterThanOrEquals:">=",doesNotEqual:"!=",isNull:"is null",isNotNull:"is not null",isIn:"in",isNotIn:"not in",contains:"contains",bitwiseAnd:"&",bitwiseOr:"|",and:"and",or:"or",beginsWith:"begins with",endsWith:"ends with",inRecent:"in recent"},ht=[a.bitwiseAnd,a.bitwiseOr,a.equals,a.doesNotEqual,a.or,a.and,a.isNull,a.isNotNull],Oe=[a.lessThan,a.greaterThan,a.equals,a.lessThanOrEquals,a.greaterThanOrEquals,a.doesNotEqual,a.isNull,a.isNotNull],gt=[a.equals,a.contains,a.doesNotEqual,a.isIn,a.isNotIn,a.beginsWith,a.endsWith,a.isNull,a.isNotNull],ze=[a.lessThan,a.greaterThan,a.equals,a.lessThanOrEquals,a.greaterThanOrEquals,a.doesNotEqual,a.isNull,a.isNotNull,a.inRecent],dt="|",vt={string:gt,float:Oe,integer:Oe,boolean:ht,datetime:ze,date:ze};var J=Te(re());var ne=new WeakMap,ie=0;function W(t,e){return function(){let r,n=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let f=i.length-1;f>=0;f--)typeof i[f]=="function"&&(r=i.splice(f,1)[0]);let o=ne.get(r);ne.delete(r);let p={cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!0,callback_id:o};this._worker.post(p,r,n),this._worker.unsubscribe(e,r)}}function j(t,e){return function(){let r,n=()=>{},i=Array.prototype.slice.call(arguments,0,arguments.length);for(let p=i.length-1;p>=0;p--)typeof i[p]=="function"&&(r=i.splice(p,1)[0]);ie++,ne.set(r,ie);let o={cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!0,callback_id:ie};this._worker.post(o,r,n,!0)}}function l(t,e){return function(){var r=Array.prototype.slice.call(arguments,0,arguments.length);return new Promise(function(n,i){var o={cmd:e||"view_method",name:this._name,method:t,args:r,subscribe:!1};this._worker.post(o,n,i)}.bind(this))}}function h(t,e,r){return new Promise((n,i)=>{this._worker=t,this._name=Math.random()+"",this._worker.post({cmd:"view",view_name:this._name,table_name:e,config:r},()=>{n(this)},i),this._worker._initialized===!0&&!this._worker._features?.wait_for_response&&n(this)})}function _t(t,e){this._worker=t,this._name=e}_t.prototype=h.prototype;h.prototype.get_config=l("get_config");h.prototype.get_min_max=l("get_min_max");h.prototype.to_json=l("to_json");h.prototype.to_arrow=l("to_arrow");h.prototype.to_columns=l("to_columns");h.prototype.to_csv=l("to_csv");h.prototype.schema=l("schema");h.prototype.expression_schema=l("expression_schema");h.prototype.column_paths=l("column_paths");h.prototype.num_columns=l("num_columns");h.prototype.num_rows=l("num_rows");h.prototype.set_depth=l("set_depth");h.prototype.get_row_expanded=l("get_row_expanded");h.prototype.expand=l("expand");h.prototype.collapse=l("collapse");h.prototype.delete=l("delete");h.prototype.col_to_js_typed_array=l("col_to_js_typed_array");h.prototype.on_update=j("on_update","view_method",!0);h.prototype.remove_update=W("remove_update","view_method",!0);h.prototype.on_delete=j("on_delete","view_method",!0);h.prototype.remove_delete=W("remove_delete","view_method",!0);function F(t){let e=t;do for(let r of Object.getOwnPropertyNames(e)){let n=t[r];r!=="constructor"&&typeof n=="function"&&(t[r]=n.bind(t))}while(e=e!==Object&&Object.getPrototypeOf(e))}String.prototype.includes||(String.prototype.includes=function(t,e){return typeof e!="number"&&(e=0),e+t.length>this.length?!1:this.indexOf(t,e)!==-1});Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(this==null)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(n===0)return!1;var i=e|0,o=Math.max(i>=0?i:n-Math.abs(i),0);function p(f,s){return f===s||typeof f=="number"&&typeof s=="number"&&isNaN(f)&&isNaN(s)}for(;o<n;){if(p(r[o],t))return!0;o++}return!1}});function g(t,e,r){return new Promise((n,i)=>{this._worker=t,this._name=r.name||Math.random()+"",F(this),e.to_arrow?(this._worker.post({cmd:"table",name:this._name,args:[],options:r||{}}),e.to_arrow().then(o=>{this._worker.post({cmd:"table",name:this._name,args:[o],options:r||{}},()=>{e.on_update(p=>{this.update(p.delta)},{mode:"row"}),n(this)},i)})):this._worker.post({cmd:"table",name:this._name,args:[e],options:r||{}},()=>{n(this)},i),this._worker._initialized===!0&&!this._worker._features?.wait_for_response&&n(this)})}g.prototype.type="table";function se(t,e){this._worker=t,this._name=e}se.prototype=g.prototype;g.prototype.view=function(t){return new h(this._worker,this._name,t)};g.prototype.get_index=l("get_index","table_method");g.prototype.get_limit=l("get_limit","table_method");g.prototype.make_port=l("make_port","table_method");g.prototype.remove_port=l("remove_port","table_method");g.prototype.schema=l("schema","table_method");g.prototype.validate_expressions=l("validate_expressions","table_method");g.prototype.is_valid_filter=l("is_valid_filter","table_method");g.prototype.size=l("size","table_method");g.prototype.columns=l("columns","table_method");g.prototype.clear=l("clear","table_method");g.prototype.replace=l("replace","table_method");g.prototype.delete=l("delete","table_method");g.prototype.on_delete=j("on_delete","table_method",!0);g.prototype.remove=l("remove","table_method");g.prototype.remove_delete=W("remove_delete","table_method",!0);g.prototype.update=function(t,e){return new Promise((r,n)=>{this._worker.post({name:this._name,cmd:"table_method",method:"update",args:[t,e||{}]},r,n,!1)})};g.prototype.execute=function(t){this._worker.post({cmd:"table_execute",name:this._name,f:t.toString()})};var E=class{constructor(){this._initialized=!1,this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},F(this)}unsubscribe(e,r){for(let n of Object.keys(this._worker.handlers))this._worker.handlers[n].resolve===r&&delete this._worker.handlers[n]}post(e,r,n,i=!1){++this._worker.msg_id,(r||n)&&(this._worker.handlers[this._worker.msg_id]={resolve:r,reject:n,keep_alive:i}),e.id=this._worker.msg_id,this._worker.initialized.value?this.send(e):this._worker.messages.push(()=>{this.send(e),(e.cmd==="table"||e.cmd==="view")&&!this._features?.wait_for_response&&r&&r()})}async memory_usage(){return await new Promise((e,r)=>{this.post({cmd:"memory_usage"},e,r)})}initialize_profile_thread(){this._worker.initialized.value?this.send({id:-1,cmd:"init_profile_thread"}):this._worker.messages.push(()=>this.send({id:-1,cmd:"init_profile_thread"}))}send(){throw new Error("send() not implemented")}async open_table(e){return new se(this,e)}_handle(e){if(!this._worker.initialized.value){if(!this._initialized&&typeof document!="undefined"&&document&&typeof window!==void 0&&window){try{let n=document.createEvent("Event");n.initEvent("perspective-ready",!1,!0),window.dispatchEvent(n)}catch{}this._initialized=!0}let r=this._worker.messages;if(this._worker.initialized.value=!0,this._worker.messages=[],e.data?.data){this._features={};for(let n of e.data.data)this._features[n]=!0}if(r)for(let n in r)r.hasOwnProperty(n)&&r[n]()}if(e.data.id){let r=this._worker.handlers[e.data.id];r&&(e.data.error?r.reject(e.data.error):r.resolve(e.data.data),r.keep_alive||delete this._worker.handlers[e.data.id])}}table(e,r){return new g(this,e,r||{})}terminate(){this._worker.terminate(),this._worker=void 0}};var qe=3e4,oe=class extends E{constructor(e){super();this._ws=e,this._ws.binaryType="arraybuffer",this._full_binary,this._total_chunk_length=0,this._pending_binary_length=0,this._ws.onopen=()=>{this.send({id:-1,cmd:"init"})};let r=()=>{this._ws.send("ping"),setTimeout(r,qe)};setTimeout(r,qe),this._ws.onmessage=n=>{if(n.data!=="pong")if(this._pending_binary){let i=n.data;if(this._full_binary.set(new Uint8Array(i),this._total_chunk_length),this._total_chunk_length+=i.byteLength,this._total_chunk_length===this._pending_binary_length)i=this._full_binary.buffer;else return;let o={data:{id:this._pending_binary,data:i}};if(this._pending_port_id!==void 0){let p={port_id:this._pending_port_id,delta:i};o.data.data=p}this._handle(o),delete this._pending_binary,delete this._pending_binary_length,delete this._pending_port_id,this._total_chunk_length=0,this._full_binary=null}else n=JSON.parse(n.data),n.binary_length?(this._pending_binary=n.id,this._pending_binary_length=n.binary_length,n.data&&n.data.port_id!==void 0&&(this._pending_port_id=n.data.port_id),this._full_binary=new Uint8Array(this._pending_binary_length)):this._handle({data:n})}}send(e){if(e.args&&e.args.length>0&&e.args[0]instanceof ArrayBuffer&&e.args[0].byteLength!==void 0){let r=e;e.binary_length=e.args[0].byteLength,this._ws.send(JSON.stringify(r)),this._ws.send(e.args[0]);return}this._ws.send(JSON.stringify(e))}terminate(){return new Promise(e=>{this._ws.onclose=e,this._ws.close()})}};var Re=Te(re());var v=Uint8Array,T=Uint16Array,ae=Uint32Array,We=new v([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),je=new v([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yt=new v([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ee=function(t,e){for(var r=new T(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new ae(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return[r,i]},Ie=Ee(We,2),Ze=Ie[0],mt=Ie[1];Ze[28]=258,mt[258]=28;var Qe=Ee(je,0),wt=Qe[0],or=Qe[1],le=new T(32768);for(u=0;u<32768;++u)b=(u&43690)>>>1|(u&21845)<<1,b=(b&52428)>>>2|(b&13107)<<2,b=(b&61680)>>>4|(b&3855)<<4,le[u]=((b&65280)>>>8|(b&255)<<8)>>>1;var b,u,I=function(t,e,r){for(var n=t.length,i=0,o=new T(e);i<n;++i)t[i]&&++o[t[i]-1];var p=new T(e);for(i=0;i<e;++i)p[i]=p[i-1]+o[i-1]<<1;var f;if(r){f=new T(1<<e);var s=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],d=e-t[i],y=p[t[i]-1]++<<d,N=y|(1<<d)-1;y<=N;++y)f[le[y]>>>s]=c}else for(f=new T(n),i=0;i<n;++i)t[i]&&(f[i]=le[p[t[i]-1]++]>>>15-t[i]);return f},Z=new v(288);for(u=0;u<144;++u)Z[u]=8;var u;for(u=144;u<256;++u)Z[u]=9;var u;for(u=256;u<280;++u)Z[u]=7;var u;for(u=280;u<288;++u)Z[u]=8;var u,Pe=new v(32);for(u=0;u<32;++u)Pe[u]=5;var u;var kt=I(Z,9,1);var xt=I(Pe,5,1),ue=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},w=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},fe=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},bt=function(t){return(t+7)/8|0},A=function(t,e,r){(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof T?T:t instanceof ae?ae:v)(r-e);return n.set(t.subarray(e,r)),n};var St=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_=function(t,e,r){var n=new Error(e||St[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,_),!r)throw n;return n},Tt=function(t,e,r){var n=t.length;if(!n||r&&r.f&&!r.l)return e||new v(0);var i=!e||r,o=!r||r.i;r||(r={}),e||(e=new v(n*3));var p=function(we){var ke=e.length;if(we>ke){var xe=new v(Math.max(ke*2,we));xe.set(e),e=xe}},f=r.f||0,s=r.p||0,c=r.b||0,d=r.l,y=r.d,N=r.m,V=r.n,$=n*8;do{if(!d){f=w(t,s,1);var K=w(t,s+1,3);if(s+=3,K)if(K==1)d=kt,y=xt,N=9,V=5;else if(K==2){var M=w(t,s,31)+257,he=w(t,s+10,15)+4,ge=M+w(t,s+5,31)+1;s+=14;for(var C=new v(ge),U=new v(19),m=0;m<he;++m)U[yt[m]]=w(t,s+m*3,7);s+=he*3;for(var de=ue(U),Ue=(1<<de)-1,He=I(U,de,1),m=0;m<ge;){var ve=He[w(t,s,Ue)];s+=ve&15;var k=ve>>>4;if(k<16)C[m++]=k;else{var z=0,Q=0;for(k==16?(Q=3+w(t,s,3),s+=2,z=C[m-1]):k==17?(Q=3+w(t,s,7),s+=3):k==18&&(Q=11+w(t,s,127),s+=7);Q--;)C[m++]=z}}var _e=C.subarray(0,M),S=C.subarray(M);N=ue(_e),V=ue(S),d=I(_e,N,1),y=I(S,V,1)}else _(1);else{var k=bt(s)+4,X=t[k-4]|t[k-3]<<8,R=k+X;if(R>n){o&&_(0);break}i&&p(c+X),e.set(t.subarray(k,R),c),r.b=c+=X,r.p=s=R*8,r.f=f;continue}if(s>$){o&&_(0);break}}i&&p(c+131072);for(var Le=(1<<N)-1,Be=(1<<V)-1,H=s;;H=s){var z=d[fe(t,s)&Le],Y=z>>>4;if(s+=z&15,s>$){o&&_(0);break}if(z||_(2),Y<256)e[c++]=Y;else if(Y==256){H=s,d=null;break}else{var ye=Y-254;if(Y>264){var m=Y-257,q=We[m];ye=w(t,s,(1<<q)-1)+Ze[m],s+=q}var L=y[fe(t,s)&Be],B=L>>>4;L||_(3),s+=L&15;var S=wt[B];if(B>3){var q=je[B];S+=fe(t,s)&(1<<q)-1,s+=q}if(s>$){o&&_(0);break}i&&p(c+131072);for(var me=c+ye;c<me;c+=4)e[c]=e[c-S],e[c+1]=e[c+1-S],e[c+2]=e[c+2-S],e[c+3]=e[c+3-S];c=me}}r.l=d,r.p=H,r.b=c,r.f=f,d&&(f=1,r.m=N,r.d=y,r.n=V)}while(!f);return c==e.length?e:A(e,0,c)};var Nt=new v(0);var Ot=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&_(6,"invalid gzip data");var e=t[3],r=10;e&4&&(r+=t[10]|(t[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!t[r++]);return r+(e&2)};var O=function(){function t(e){this.s={},this.p=new v(0),this.ondata=e}return t.prototype.e=function(e){this.ondata||_(5),this.d&&_(4);var r=this.p.length,n=new v(r+e.length);n.set(this.p),n.set(e,r),this.p=n},t.prototype.c=function(e){this.d=this.s.i=e||!1;var r=this.s.b,n=Tt(this.p,this.o,this.s);this.ondata(A(n,r,this.s.b),this.d),this.o=A(n,this.s.b-32768),this.s.b=this.o.length,this.p=A(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(e,r){this.e(e),this.c(r)},t}();var zt=function(){function t(e){this.v=1,O.call(this,e)}return t.prototype.push=function(e,r){if(O.prototype.e.call(this,e),this.v){var n=this.p.length>3?Ot(this.p):4;if(n>=this.p.length&&!r)return;this.p=this.p.subarray(n),this.v=0}r&&(this.p.length<8&&_(6,"invalid gzip data"),this.p=this.p.subarray(0,-8)),O.prototype.c.call(this,r)},t}();var Yt=function(){function t(e){this.v=1,O.call(this,e)}return t.prototype.push=function(e,r){if(O.prototype.e.call(this,e),this.v){if(this.p.length<2&&!r)return;this.p=this.p.subarray(2),this.v=0}r&&(this.p.length<4&&_(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),O.prototype.c.call(this,r)},t}();var Ge=function(){function t(e){this.G=zt,this.I=O,this.Z=Yt,this.ondata=e}return t.prototype.push=function(e,r){if(this.ondata||_(5),this.s)this.s.push(e,r);else{if(this.p&&this.p.length){var n=new v(this.p.length+e.length);n.set(this.p),n.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,o=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(o):new this.Z(o),this.s.push(this.p,r),this.p=null}}},t}();var Vt=typeof TextDecoder!="undefined"&&new TextDecoder,Ct=0;try{Vt.decode(Nt,{stream:!0}),Ct=1}catch{}var Fe="./perspective.worker.js";async function Wt(){let t=new URL(Fe,import.meta.url);return await(await fetch(t)).text()}function Ae(t,e){function r(i,o){t.push(o)}function n(i){if(Object.keys(i).length>0)for(let o of e)o({data:i})}return{addEventListener:r,postMessage:n,location:{href:""}}}function Je(t){let e=Function("const self = arguments[0];"+t),r=[],n=[];return e(Ae(r,n)),Ae(n,r)}var jt=Wt(),Et=async function(){let t=await jt;if(window.location.protocol.startsWith("file")&&!window.isElectron)return console.warn("file:// protocol does not support Web Workers"),Je(t);try{let e=new Blob([t],{type:"application/javascript"}),r=URL.createObjectURL(e);return new Worker(r,{type:"module"})}catch(e){return console.warn("Failed to instantiate worker, falling back to single-threaded runtime",e),Je(t)}},$e=Et;var Ke="./perspective.cpp.wasm";async function Zt(){return new URL(Ke,import.meta.url)}var Xe=Zt();var Qt=`Perspective has been compiled in "inline" mode.  While Perspective's runtime performance is not affected, you may see smaller assets size and faster engine initial load time using "@finos/perspective-webpack-plugin" to build your application.
https://perspective.finos.org/docs/md/js.html`;function Me(t){return new Uint32Array(t.slice(0,4))[0]==559903}var ce=function(){let t;return function(){return t||(t=new class{async worker(){return await $e()}async wasm(){let e=await Xe,r=[],n=0,i=new Ge(f=>{f&&(n+=f.byteLength,r.push(f))});if(e.buffer&&e.buffer instanceof ArrayBuffer)console.warn(Qt),Me(e.buffer)?i.push(e,!0):(n=e.byteLength,r=[e]);else if(e instanceof ArrayBuffer)n=e.byteLength,r=[new Uint8Array(e)];else{let s=(await fetch(e)).body.getReader(),c=0;for(;;){let{value:d,done:y}=await s.read();if(y)break;c===0&&Me(d.buffer)||c===1?(c=1,i.push(d,y)):(c=2,n+=d.byteLength,r.push(d))}}let o=0,p=new Uint8Array(n);for(let f of r)p.set(f,o),o+=f.byteLength;return this._wasm=p.buffer,this._wasm}}),t}}(),pe=class extends E{constructor(e){e&&(0,Re.override_config)(e);super();this.register()}async register(){let e,r={cmd:"init",config:(0,J.get_config)()};if(typeof WebAssembly=="undefined")throw new Error("WebAssembly not supported.");[e,r.buffer]=await Promise.all([ce().worker(),ce().wasm()]);for(var n in this._worker)e[n]=this._worker[n];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage(r),this._detect_transferable()}send(e){this._worker.transferable&&e.args&&e.args[0]instanceof ArrayBuffer?this._worker.postMessage(e,[e.args[0]]):this._worker.postMessage(e)}terminate(){this._worker.terminate(),this._worker=void 0}_detect_transferable(){var e=new ArrayBuffer(1);this._worker.postMessage(e,[e]),this._worker.transferable=e.byteLength===0,this._worker.transferable?console.debug("Transferable support detected"):console.warn("Transferable support not detected")}},Pt=function(){let t,e;return{getInstance:function(r){t===void 0&&(t=new pe(r));let n=JSON.stringify(r);if(e&&n!==e)throw new Error("Configuration object for shared_worker() has changed - this is probably a bug in your application.");return e=n,t}}}(),mr=J.get_type_config;function Gt(t){return ce().set(t)}function Ft(t){return new pe(t)}function At(t=window.location.origin.replace("http","ws")){return new oe(new WebSocket(t))}function Jt(t){return Pt.getInstance(t)}var wr={override:Gt,worker:Ft,websocket:At,shared_worker:Jt,...Object.keys(ee)};export{wr as default,mr as get_type_config,Gt as override,Jt as shared_worker,At as websocket,Ft as worker};
//# sourceMappingURL=perspective.js.map
